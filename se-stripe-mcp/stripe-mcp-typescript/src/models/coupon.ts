/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { ClosedEnum } from "../types/enums.js";
import {
  CouponAppliesTo,
  CouponAppliesTo$zodSchema,
} from "./couponappliesto.js";
import {
  CouponCurrencyOption,
  CouponCurrencyOption$zodSchema,
} from "./couponcurrencyoption.js";

/**
 * One of `forever`, `once`, or `repeating`. Describes how long a customer who applies this coupon will get the discount.
 */
export const Duration = {
  Forever: "forever",
  Once: "once",
  Repeating: "repeating",
} as const;
/**
 * One of `forever`, `once`, or `repeating`. Describes how long a customer who applies this coupon will get the discount.
 */
export type Duration = ClosedEnum<typeof Duration>;

export const Duration$zodSchema = z.enum([
  "forever",
  "once",
  "repeating",
]).describe(
  "One of `forever`, `once`, or `repeating`. Describes how long a customer who applies this coupon will get the discount.",
);

/**
 * A coupon contains information about a percent-off or amount-off discount you
 *
 * @remarks
 * might want to apply to a customer. Coupons may be applied to [subscriptions](https://api.stripe.com#subscriptions), [invoices](https://api.stripe.com#invoices),
 * [checkout sessions](https://docs.stripe.com/api/checkout/sessions), [quotes](https://api.stripe.com#quotes), and more. Coupons do not work with conventional one-off [charges](https://api.stripe.com#create_charge) or [payment intents](https://docs.stripe.com/api/payment_intents).
 */
export type Coupon = {
  amount_off?: number | null | undefined;
  applies_to?: CouponAppliesTo | undefined;
  created: number;
  currency?: string | null | undefined;
  currency_options?: { [k: string]: CouponCurrencyOption } | undefined;
  duration: Duration;
  duration_in_months?: number | null | undefined;
  id: string;
  livemode: boolean;
  max_redemptions?: number | null | undefined;
  metadata?: { [k: string]: string } | null | undefined;
  name?: string | null | undefined;
  percent_off?: number | null | undefined;
  redeem_by?: number | null | undefined;
  times_redeemed: number;
  valid: boolean;
};

export const Coupon$zodSchema: z.ZodType<Coupon> = z.object({
  amount_off: z.int().nullable().optional(),
  applies_to: CouponAppliesTo$zodSchema.optional(),
  created: z.int(),
  currency: z.string().nullable().optional(),
  currency_options: z.record(z.string(), CouponCurrencyOption$zodSchema)
    .optional(),
  duration: Duration$zodSchema,
  duration_in_months: z.int().nullable().optional(),
  id: z.string(),
  livemode: z.boolean(),
  max_redemptions: z.int().nullable().optional(),
  metadata: z.record(z.string(), z.string()).nullable().optional(),
  name: z.string().nullable().optional(),
  percent_off: z.number().nullable().optional(),
  redeem_by: z.int().nullable().optional(),
  times_redeemed: z.int(),
  valid: z.boolean(),
}).describe(
  "A coupon contains information about a percent-off or amount-off discount you\nmight want to apply to a customer. Coupons may be applied to [subscriptions](https://api.stripe.com#subscriptions), [invoices](https://api.stripe.com#invoices),\n[checkout sessions](https://docs.stripe.com/api/checkout/sessions), [quotes](https://api.stripe.com#quotes), and more. Coupons do not work with conventional one-off [charges](https://api.stripe.com#create_charge) or [payment intents](https://docs.stripe.com/api/payment_intents).",
);
