/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { ClosedEnum } from "../types/enums.js";
import { Account, Account$zodSchema } from "./account.js";
import { Application, Application$zodSchema } from "./application.js";
import { ApplicationFee, ApplicationFee$zodSchema } from "./applicationfee.js";
import {
  BalanceTransaction,
  BalanceTransaction$zodSchema,
} from "./balancetransaction.js";
import { BillingDetails, BillingDetails$zodSchema } from "./billingdetails.js";
import {
  ChargeFraudDetails,
  ChargeFraudDetails$zodSchema,
} from "./chargefrauddetails.js";
import { ChargeOutcome, ChargeOutcome$zodSchema } from "./chargeoutcome.js";
import {
  ChargeTransferData,
  ChargeTransferData$zodSchema,
} from "./chargetransferdata.js";
import { Customer, Customer$zodSchema } from "./customer.js";
import {
  PaymentFlowsPaymentIntentPresentmentDetails,
  PaymentFlowsPaymentIntentPresentmentDetails$zodSchema,
} from "./paymentflowspaymentintentpresentmentdetails.js";
import { PaymentIntent, PaymentIntent$zodSchema } from "./paymentintent.js";
import {
  PaymentMethodDetails,
  PaymentMethodDetails$zodSchema,
} from "./paymentmethoddetails.js";
import {
  RadarRadarOptions,
  RadarRadarOptions$zodSchema,
} from "./radarradaroptions.js";
import { Refund, Refund$zodSchema } from "./refund.js";
import { Review, Review$zodSchema } from "./review.js";
import { Shipping, Shipping$zodSchema } from "./shipping.js";
import { Transfer, Transfer$zodSchema } from "./transfer.js";

/**
 * A list of refunds that have been applied to the charge.
 */
export type RefundList = {
  data: Array<Refund>;
  has_more: boolean;
  url: string;
};

export const RefundList$zodSchema: z.ZodType<RefundList> = z.object({
  data: z.array(z.lazy(() => Refund$zodSchema)),
  has_more: z.boolean(),
  url: z.string(),
}).describe("A list of refunds that have been applied to the charge.");

/**
 * The status of the payment is either `succeeded`, `pending`, or `failed`.
 */
export const ChargeStatus = {
  Failed: "failed",
  Pending: "pending",
  Succeeded: "succeeded",
} as const;
/**
 * The status of the payment is either `succeeded`, `pending`, or `failed`.
 */
export type ChargeStatus = ClosedEnum<typeof ChargeStatus>;

export const ChargeStatus$zodSchema = z.enum([
  "failed",
  "pending",
  "succeeded",
]).describe(
  "The status of the payment is either `succeeded`, `pending`, or `failed`.",
);

/**
 * The `Charge` object represents a single attempt to move money into your Stripe account.
 *
 * @remarks
 * PaymentIntent confirmation is the most common way to create Charges, but [Account Debits](https://docs.stripe.com/connect/account-debits) may also create Charges.
 * Some legacy payment flows create Charges directly, which is not recommended for new integrations.
 */
export type Charge = {
  amount: number;
  amount_captured: number;
  amount_refunded: number;
  application?: Application | undefined;
  application_fee?: ApplicationFee | undefined;
  application_fee_amount?: number | null | undefined;
  balance_transaction?: BalanceTransaction | undefined;
  billing_details: BillingDetails;
  calculated_statement_descriptor?: string | null | undefined;
  captured: boolean;
  created: number;
  currency: string;
  customer?: Customer | undefined;
  description?: string | null | undefined;
  disputed: boolean;
  failure_balance_transaction?: BalanceTransaction | undefined;
  failure_code?: string | null | undefined;
  failure_message?: string | null | undefined;
  fraud_details?: ChargeFraudDetails | undefined;
  id: string;
  livemode: boolean;
  metadata: { [k: string]: string };
  on_behalf_of?: Account | undefined;
  outcome?: ChargeOutcome | undefined;
  paid: boolean;
  payment_intent?: PaymentIntent | undefined;
  payment_method?: string | null | undefined;
  payment_method_details?: PaymentMethodDetails | undefined;
  presentment_details?: PaymentFlowsPaymentIntentPresentmentDetails | undefined;
  radar_options?: RadarRadarOptions | undefined;
  receipt_email?: string | null | undefined;
  receipt_number?: string | null | undefined;
  receipt_url?: string | null | undefined;
  refunded: boolean;
  refunds?: RefundList | null | undefined;
  review?: Review | undefined;
  shipping?: Shipping | undefined;
  source_transfer?: Transfer | undefined;
  statement_descriptor?: string | null | undefined;
  statement_descriptor_suffix?: string | null | undefined;
  status: ChargeStatus;
  transfer?: Transfer | undefined;
  transfer_data?: ChargeTransferData | undefined;
  transfer_group?: string | null | undefined;
};

export const Charge$zodSchema: z.ZodType<Charge> = z.object({
  amount: z.int(),
  amount_captured: z.int(),
  amount_refunded: z.int(),
  application: Application$zodSchema.optional(),
  application_fee: z.lazy(() => ApplicationFee$zodSchema).optional(),
  application_fee_amount: z.int().nullable().optional(),
  balance_transaction: z.lazy(() => BalanceTransaction$zodSchema).optional(),
  billing_details: BillingDetails$zodSchema,
  calculated_statement_descriptor: z.string().nullable().optional(),
  captured: z.boolean(),
  created: z.int(),
  currency: z.string(),
  customer: z.lazy(() => Customer$zodSchema).optional(),
  description: z.string().nullable().optional(),
  disputed: z.boolean(),
  failure_balance_transaction: z.lazy(() => BalanceTransaction$zodSchema)
    .optional(),
  failure_code: z.string().nullable().optional(),
  failure_message: z.string().nullable().optional(),
  fraud_details: ChargeFraudDetails$zodSchema.optional(),
  id: z.string(),
  livemode: z.boolean(),
  metadata: z.record(z.string(), z.string()),
  on_behalf_of: z.lazy(() => Account$zodSchema).optional(),
  outcome: ChargeOutcome$zodSchema.optional(),
  paid: z.boolean(),
  payment_intent: z.lazy(() => PaymentIntent$zodSchema).optional(),
  payment_method: z.string().nullable().optional(),
  payment_method_details: z.lazy(() => PaymentMethodDetails$zodSchema)
    .optional(),
  presentment_details: PaymentFlowsPaymentIntentPresentmentDetails$zodSchema
    .optional(),
  radar_options: RadarRadarOptions$zodSchema.optional(),
  receipt_email: z.string().nullable().optional(),
  receipt_number: z.string().nullable().optional(),
  receipt_url: z.string().nullable().optional(),
  refunded: z.boolean(),
  refunds: z.lazy(() => RefundList$zodSchema).nullable().optional(),
  review: z.lazy(() => Review$zodSchema).optional(),
  shipping: Shipping$zodSchema.optional(),
  source_transfer: z.lazy(() => Transfer$zodSchema).optional(),
  statement_descriptor: z.string().nullable().optional(),
  statement_descriptor_suffix: z.string().nullable().optional(),
  status: ChargeStatus$zodSchema,
  transfer: z.lazy(() => Transfer$zodSchema).optional(),
  transfer_data: z.lazy(() => ChargeTransferData$zodSchema).optional(),
  transfer_group: z.string().nullable().optional(),
}).describe(
  "The `Charge` object represents a single attempt to move money into your Stripe account.\nPaymentIntent confirmation is the most common way to create Charges, but [Account Debits](https://docs.stripe.com/connect/account-debits) may also create Charges.\nSome legacy payment flows create Charges directly, which is not recommended for new integrations.",
);
