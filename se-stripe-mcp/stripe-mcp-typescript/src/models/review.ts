/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { ClosedEnum } from "../types/enums.js";
import { Charge, Charge$zodSchema } from "./charge.js";
import { PaymentIntent, PaymentIntent$zodSchema } from "./paymentintent.js";
import {
  RadarReviewResourceLocation,
  RadarReviewResourceLocation$zodSchema,
} from "./radarreviewresourcelocation.js";
import {
  RadarReviewResourceSession,
  RadarReviewResourceSession$zodSchema,
} from "./radarreviewresourcesession.js";

/**
 * The reason the review was closed, or null if it has not yet been closed. One of `approved`, `refunded`, `refunded_as_fraud`, `disputed`, `redacted`, `canceled`, `payment_never_settled`, or `acknowledged`.
 */
export const ClosedReason = {
  Acknowledged: "acknowledged",
  Approved: "approved",
  Canceled: "canceled",
  Disputed: "disputed",
  PaymentNeverSettled: "payment_never_settled",
  Redacted: "redacted",
  Refunded: "refunded",
  RefundedAsFraud: "refunded_as_fraud",
} as const;
/**
 * The reason the review was closed, or null if it has not yet been closed. One of `approved`, `refunded`, `refunded_as_fraud`, `disputed`, `redacted`, `canceled`, `payment_never_settled`, or `acknowledged`.
 */
export type ClosedReason = ClosedEnum<typeof ClosedReason>;

export const ClosedReason$zodSchema = z.enum([
  "acknowledged",
  "approved",
  "canceled",
  "disputed",
  "payment_never_settled",
  "redacted",
  "refunded",
  "refunded_as_fraud",
]).describe(
  "The reason the review was closed, or null if it has not yet been closed. One of `approved`, `refunded`, `refunded_as_fraud`, `disputed`, `redacted`, `canceled`, `payment_never_settled`, or `acknowledged`.",
);

/**
 * The reason the review was opened. One of `rule` or `manual`.
 */
export const OpenedReason = {
  Manual: "manual",
  Rule: "rule",
} as const;
/**
 * The reason the review was opened. One of `rule` or `manual`.
 */
export type OpenedReason = ClosedEnum<typeof OpenedReason>;

export const OpenedReason$zodSchema = z.enum([
  "manual",
  "rule",
]).describe("The reason the review was opened. One of `rule` or `manual`.");

/**
 * Reviews can be used to supplement automated fraud detection with human expertise.
 *
 * @remarks
 *
 * Learn more about [Radar](/radar) and reviewing payments
 * [here](https://docs.stripe.com/radar/reviews).
 */
export type Review = {
  billing_zip?: string | null | undefined;
  charge?: Charge | undefined;
  closed_reason?: ClosedReason | null | undefined;
  created: number;
  id: string;
  ip_address?: string | null | undefined;
  ip_address_location?: RadarReviewResourceLocation | undefined;
  livemode: boolean;
  open: boolean;
  opened_reason: OpenedReason;
  payment_intent?: PaymentIntent | undefined;
  reason: string;
  session?: RadarReviewResourceSession | undefined;
};

export const Review$zodSchema: z.ZodType<Review> = z.object({
  billing_zip: z.string().nullable().optional(),
  charge: z.lazy(() => Charge$zodSchema).optional(),
  closed_reason: ClosedReason$zodSchema.nullable().optional(),
  created: z.int(),
  id: z.string(),
  ip_address: z.string().nullable().optional(),
  ip_address_location: RadarReviewResourceLocation$zodSchema.optional(),
  livemode: z.boolean(),
  open: z.boolean(),
  opened_reason: OpenedReason$zodSchema,
  payment_intent: z.lazy(() => PaymentIntent$zodSchema).optional(),
  reason: z.string(),
  session: RadarReviewResourceSession$zodSchema.optional(),
}).describe(
  "Reviews can be used to supplement automated fraud detection with human expertise.\n\nLearn more about [Radar](/radar) and reviewing payments\n[here](https://docs.stripe.com/radar/reviews).",
);
