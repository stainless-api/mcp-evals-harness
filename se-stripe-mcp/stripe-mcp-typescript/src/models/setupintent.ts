/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { ClosedEnum } from "../types/enums.js";
import { Account, Account$zodSchema } from "./account.js";
import { ApiErrors, ApiErrors$zodSchema } from "./apierrors.js";
import { Application, Application$zodSchema } from "./application.js";
import { Customer, Customer$zodSchema } from "./customer.js";
import { Mandate, Mandate$zodSchema } from "./mandate.js";
import {
  PaymentFlowsAutomaticPaymentMethodsSetupIntent,
  PaymentFlowsAutomaticPaymentMethodsSetupIntent$zodSchema,
} from "./paymentflowsautomaticpaymentmethodssetupintent.js";
import { PaymentMethod, PaymentMethod$zodSchema } from "./paymentmethod.js";
import {
  PaymentMethodConfigBizPaymentMethodConfigurationDetails,
  PaymentMethodConfigBizPaymentMethodConfigurationDetails$zodSchema,
} from "./paymentmethodconfigbizpaymentmethodconfigurationdetails.js";
import { SetupAttempt, SetupAttempt$zodSchema } from "./setupattempt.js";
import {
  SetupIntentNextAction,
  SetupIntentNextAction$zodSchema,
} from "./setupintentnextaction.js";
import {
  SetupIntentPaymentMethodOptions,
  SetupIntentPaymentMethodOptions$zodSchema,
} from "./setupintentpaymentmethodoptions.js";

/**
 * Reason for cancellation of this SetupIntent, one of `abandoned`, `requested_by_customer`, or `duplicate`.
 */
export const SetupIntentCancellationReason = {
  Abandoned: "abandoned",
  Duplicate: "duplicate",
  RequestedByCustomer: "requested_by_customer",
} as const;
/**
 * Reason for cancellation of this SetupIntent, one of `abandoned`, `requested_by_customer`, or `duplicate`.
 */
export type SetupIntentCancellationReason = ClosedEnum<
  typeof SetupIntentCancellationReason
>;

export const SetupIntentCancellationReason$zodSchema = z.enum([
  "abandoned",
  "duplicate",
  "requested_by_customer",
]).describe(
  "Reason for cancellation of this SetupIntent, one of `abandoned`, `requested_by_customer`, or `duplicate`.",
);

export const SetupIntentExcludedPaymentMethodType = {
  AcssDebit: "acss_debit",
  Affirm: "affirm",
  AfterpayClearpay: "afterpay_clearpay",
  Alipay: "alipay",
  Alma: "alma",
  AmazonPay: "amazon_pay",
  AuBecsDebit: "au_becs_debit",
  BacsDebit: "bacs_debit",
  Bancontact: "bancontact",
  Billie: "billie",
  Blik: "blik",
  Boleto: "boleto",
  Card: "card",
  Cashapp: "cashapp",
  Crypto: "crypto",
  CustomerBalance: "customer_balance",
  Eps: "eps",
  Fpx: "fpx",
  Giropay: "giropay",
  Grabpay: "grabpay",
  Ideal: "ideal",
  KakaoPay: "kakao_pay",
  Klarna: "klarna",
  Konbini: "konbini",
  KrCard: "kr_card",
  MbWay: "mb_way",
  Mobilepay: "mobilepay",
  Multibanco: "multibanco",
  NaverPay: "naver_pay",
  NzBankAccount: "nz_bank_account",
  Oxxo: "oxxo",
  P24: "p24",
  PayByBank: "pay_by_bank",
  Payco: "payco",
  Paynow: "paynow",
  Paypal: "paypal",
  Payto: "payto",
  Pix: "pix",
  Promptpay: "promptpay",
  RevolutPay: "revolut_pay",
  SamsungPay: "samsung_pay",
  Satispay: "satispay",
  SepaDebit: "sepa_debit",
  Sofort: "sofort",
  Swish: "swish",
  Twint: "twint",
  UsBankAccount: "us_bank_account",
  WechatPay: "wechat_pay",
  Zip: "zip",
} as const;
export type SetupIntentExcludedPaymentMethodType = ClosedEnum<
  typeof SetupIntentExcludedPaymentMethodType
>;

export const SetupIntentExcludedPaymentMethodType$zodSchema = z.enum([
  "acss_debit",
  "affirm",
  "afterpay_clearpay",
  "alipay",
  "alma",
  "amazon_pay",
  "au_becs_debit",
  "bacs_debit",
  "bancontact",
  "billie",
  "blik",
  "boleto",
  "card",
  "cashapp",
  "crypto",
  "customer_balance",
  "eps",
  "fpx",
  "giropay",
  "grabpay",
  "ideal",
  "kakao_pay",
  "klarna",
  "konbini",
  "kr_card",
  "mb_way",
  "mobilepay",
  "multibanco",
  "naver_pay",
  "nz_bank_account",
  "oxxo",
  "p24",
  "pay_by_bank",
  "payco",
  "paynow",
  "paypal",
  "payto",
  "pix",
  "promptpay",
  "revolut_pay",
  "samsung_pay",
  "satispay",
  "sepa_debit",
  "sofort",
  "swish",
  "twint",
  "us_bank_account",
  "wechat_pay",
  "zip",
]);

export const SetupIntentFlowDirection = {
  Inbound: "inbound",
  Outbound: "outbound",
} as const;
export type SetupIntentFlowDirection = ClosedEnum<
  typeof SetupIntentFlowDirection
>;

export const SetupIntentFlowDirection$zodSchema = z.enum([
  "inbound",
  "outbound",
]);

/**
 * [Status](https://docs.stripe.com/payments/intents#intent-statuses) of this SetupIntent, one of `requires_payment_method`, `requires_confirmation`, `requires_action`, `processing`, `canceled`, or `succeeded`.
 */
export const SetupIntentStatus = {
  Canceled: "canceled",
  Processing: "processing",
  RequiresAction: "requires_action",
  RequiresConfirmation: "requires_confirmation",
  RequiresPaymentMethod: "requires_payment_method",
  Succeeded: "succeeded",
} as const;
/**
 * [Status](https://docs.stripe.com/payments/intents#intent-statuses) of this SetupIntent, one of `requires_payment_method`, `requires_confirmation`, `requires_action`, `processing`, `canceled`, or `succeeded`.
 */
export type SetupIntentStatus = ClosedEnum<typeof SetupIntentStatus>;

export const SetupIntentStatus$zodSchema = z.enum([
  "canceled",
  "processing",
  "requires_action",
  "requires_confirmation",
  "requires_payment_method",
  "succeeded",
]).describe(
  "[Status](https://docs.stripe.com/payments/intents#intent-statuses) of this SetupIntent, one of `requires_payment_method`, `requires_confirmation`, `requires_action`, `processing`, `canceled`, or `succeeded`.",
);

/**
 * A SetupIntent guides you through the process of setting up and saving a customer's payment credentials for future payments.
 *
 * @remarks
 * For example, you can use a SetupIntent to set up and save your customer's card without immediately collecting a payment.
 * Later, you can use [PaymentIntents](https://api.stripe.com#payment_intents) to drive the payment flow.
 *
 * Create a SetupIntent when you're ready to collect your customer's payment credentials.
 * Don't maintain long-lived, unconfirmed SetupIntents because they might not be valid.
 * The SetupIntent transitions through multiple [statuses](https://docs.stripe.com/payments/intents#intent-statuses) as it guides
 * you through the setup process.
 *
 * Successful SetupIntents result in payment credentials that are optimized for future payments.
 * For example, cardholders in [certain regions](https://stripe.com/guides/strong-customer-authentication) might need to be run through
 * [Strong Customer Authentication](https://docs.stripe.com/strong-customer-authentication) during payment method collection
 * to streamline later [off-session payments](https://docs.stripe.com/payments/setup-intents).
 * If you use the SetupIntent with a [Customer](https://api.stripe.com#setup_intent_object-customer),
 * it automatically attaches the resulting payment method to that Customer after successful setup.
 * We recommend using SetupIntents or [setup_future_usage](https://api.stripe.com#payment_intent_object-setup_future_usage) on
 * PaymentIntents to save payment methods to prevent saving invalid or unoptimized payment methods.
 *
 * By using SetupIntents, you can reduce friction for your customers, even as regulations change over time.
 *
 * Related guide: [Setup Intents API](https://docs.stripe.com/payments/setup-intents)
 */
export type SetupIntent = {
  application?: Application | undefined;
  attach_to_self?: boolean | undefined;
  automatic_payment_methods?:
    | PaymentFlowsAutomaticPaymentMethodsSetupIntent
    | undefined;
  cancellation_reason?: SetupIntentCancellationReason | null | undefined;
  client_secret?: string | null | undefined;
  created: number;
  customer?: Customer | undefined;
  customer_account?: string | null | undefined;
  description?: string | null | undefined;
  excluded_payment_method_types?:
    | Array<SetupIntentExcludedPaymentMethodType>
    | null
    | undefined;
  flow_directions?: Array<SetupIntentFlowDirection> | null | undefined;
  id: string;
  last_setup_error?: ApiErrors | undefined;
  latest_attempt?: SetupAttempt | undefined;
  livemode: boolean;
  mandate?: Mandate | undefined;
  metadata?: { [k: string]: string } | null | undefined;
  next_action?: SetupIntentNextAction | undefined;
  on_behalf_of?: Account | undefined;
  payment_method?: PaymentMethod | undefined;
  payment_method_configuration_details?:
    | PaymentMethodConfigBizPaymentMethodConfigurationDetails
    | undefined;
  payment_method_options?: SetupIntentPaymentMethodOptions | undefined;
  payment_method_types: Array<string>;
  single_use_mandate?: Mandate | undefined;
  status: SetupIntentStatus;
  usage: string;
};

export const SetupIntent$zodSchema: z.ZodType<SetupIntent> = z.object({
  application: Application$zodSchema.optional(),
  attach_to_self: z.boolean().optional(),
  automatic_payment_methods:
    PaymentFlowsAutomaticPaymentMethodsSetupIntent$zodSchema.optional(),
  cancellation_reason: SetupIntentCancellationReason$zodSchema.nullable()
    .optional(),
  client_secret: z.string().nullable().optional(),
  created: z.int(),
  customer: z.lazy(() => Customer$zodSchema).optional(),
  customer_account: z.string().nullable().optional(),
  description: z.string().nullable().optional(),
  excluded_payment_method_types: z.array(
    SetupIntentExcludedPaymentMethodType$zodSchema,
  ).nullable().optional(),
  flow_directions: z.array(SetupIntentFlowDirection$zodSchema).nullable()
    .optional(),
  id: z.string(),
  last_setup_error: z.lazy(() => ApiErrors$zodSchema).optional(),
  latest_attempt: z.lazy(() => SetupAttempt$zodSchema).optional(),
  livemode: z.boolean(),
  mandate: z.lazy(() => Mandate$zodSchema).optional(),
  metadata: z.record(z.string(), z.string()).nullable().optional(),
  next_action: SetupIntentNextAction$zodSchema.optional(),
  on_behalf_of: z.lazy(() => Account$zodSchema).optional(),
  payment_method: z.lazy(() => PaymentMethod$zodSchema).optional(),
  payment_method_configuration_details:
    PaymentMethodConfigBizPaymentMethodConfigurationDetails$zodSchema
      .optional(),
  payment_method_options: SetupIntentPaymentMethodOptions$zodSchema.optional(),
  payment_method_types: z.array(z.string()),
  single_use_mandate: z.lazy(() => Mandate$zodSchema).optional(),
  status: SetupIntentStatus$zodSchema,
  usage: z.string(),
}).describe(
  "A SetupIntent guides you through the process of setting up and saving a customer's payment credentials for future payments.\nFor example, you can use a SetupIntent to set up and save your customer's card without immediately collecting a payment.\nLater, you can use [PaymentIntents](https://api.stripe.com#payment_intents) to drive the payment flow.\n\nCreate a SetupIntent when you're ready to collect your customer's payment credentials.\nDon't maintain long-lived, unconfirmed SetupIntents because they might not be valid.\nThe SetupIntent transitions through multiple [statuses](https://docs.stripe.com/payments/intents#intent-statuses) as it guides\nyou through the setup process.\n\nSuccessful SetupIntents result in payment credentials that are optimized for future payments.\nFor example, cardholders in [certain regions](https://stripe.com/guides/strong-customer-authentication) might need to be run through\n[Strong Customer Authentication](https://docs.stripe.com/strong-customer-authentication) during payment method collection\nto streamline later [off-session payments](https://docs.stripe.com/payments/setup-intents).\nIf you use the SetupIntent with a [Customer](https://api.stripe.com#setup_intent_object-customer),\nit automatically attaches the resulting payment method to that Customer after successful setup.\nWe recommend using SetupIntents or [setup_future_usage](https://api.stripe.com#payment_intent_object-setup_future_usage) on\nPaymentIntents to save payment methods to prevent saving invalid or unoptimized payment methods.\n\nBy using SetupIntents, you can reduce friction for your customers, even as regulations change over time.\n\nRelated guide: [Setup Intents API](https://docs.stripe.com/payments/setup-intents)",
);
