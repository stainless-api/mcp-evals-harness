/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { Customer, Customer$zodSchema } from "./customer.js";
import {
  PromotionCodesResourcePromotion,
  PromotionCodesResourcePromotion$zodSchema,
} from "./promotioncodesresourcepromotion.js";
import {
  PromotionCodesResourceRestrictions,
  PromotionCodesResourceRestrictions$zodSchema,
} from "./promotioncodesresourcerestrictions.js";

/**
 * A Promotion Code represents a customer-redeemable code for an underlying promotion.
 *
 * @remarks
 * You can create multiple codes for a single promotion.
 *
 * If you enable promotion codes in your [customer portal configuration](https://docs.stripe.com/customer-management/configure-portal), then customers can redeem a code themselves when updating a subscription in the portal.
 * Customers can also view the currently active promotion codes and coupons on each of their subscriptions in the portal.
 */
export type PromotionCode = {
  active: boolean;
  code: string;
  created: number;
  customer?: Customer | undefined;
  customer_account?: string | null | undefined;
  expires_at?: number | null | undefined;
  id: string;
  livemode: boolean;
  max_redemptions?: number | null | undefined;
  metadata?: { [k: string]: string } | null | undefined;
  promotion: PromotionCodesResourcePromotion;
  restrictions: PromotionCodesResourceRestrictions;
  times_redeemed: number;
};

export const PromotionCode$zodSchema: z.ZodType<PromotionCode> = z.object({
  active: z.boolean(),
  code: z.string(),
  created: z.int(),
  customer: z.lazy(() => Customer$zodSchema).optional(),
  customer_account: z.string().nullable().optional(),
  expires_at: z.int().nullable().optional(),
  id: z.string(),
  livemode: z.boolean(),
  max_redemptions: z.int().nullable().optional(),
  metadata: z.record(z.string(), z.string()).nullable().optional(),
  promotion: PromotionCodesResourcePromotion$zodSchema,
  restrictions: PromotionCodesResourceRestrictions$zodSchema,
  times_redeemed: z.int(),
}).describe(
  "A Promotion Code represents a customer-redeemable code for an underlying promotion.\nYou can create multiple codes for a single promotion.\n\nIf you enable promotion codes in your [customer portal configuration](https://docs.stripe.com/customer-management/configure-portal), then customers can redeem a code themselves when updating a subscription in the portal.\nCustomers can also view the currently active promotion codes and coupons on each of their subscriptions in the portal.",
);
