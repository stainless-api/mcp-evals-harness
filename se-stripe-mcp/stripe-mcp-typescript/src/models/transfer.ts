/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { Account, Account$zodSchema } from "./account.js";
import {
  BalanceTransaction,
  BalanceTransaction$zodSchema,
} from "./balancetransaction.js";
import { Charge, Charge$zodSchema } from "./charge.js";
import {
  TransferReversal,
  TransferReversal$zodSchema,
} from "./transferreversal.js";

/**
 * A list of reversals that have been applied to the transfer.
 */
export type TransferReversalList = {
  data: Array<TransferReversal>;
  has_more: boolean;
  url: string;
};

export const TransferReversalList$zodSchema: z.ZodType<TransferReversalList> = z
  .object({
    data: z.array(TransferReversal$zodSchema),
    has_more: z.boolean(),
    url: z.string(),
  }).describe("A list of reversals that have been applied to the transfer.");

/**
 * A `Transfer` object is created when you move funds between Stripe accounts as
 *
 * @remarks
 * part of Connect.
 *
 * Before April 6, 2017, transfers also represented movement of funds from a
 * Stripe account to a card or bank account. This behavior has since been split
 * out into a [Payout](https://api.stripe.com#payout_object) object, with corresponding payout endpoints. For more
 * information, read about the
 * [transfer/payout split](https://docs.stripe.com/transfer-payout-split).
 *
 * Related guide: [Creating separate charges and transfers](https://docs.stripe.com/connect/separate-charges-and-transfers)
 */
export type Transfer = {
  amount: number;
  amount_reversed: number;
  balance_transaction?: BalanceTransaction | undefined;
  created: number;
  currency: string;
  description?: string | null | undefined;
  destination?: Account | undefined;
  destination_payment?: Charge | undefined;
  id: string;
  livemode: boolean;
  metadata: { [k: string]: string };
  reversals: TransferReversalList;
  reversed: boolean;
  source_transaction?: Charge | undefined;
  source_type?: string | undefined;
  transfer_group?: string | null | undefined;
};

export const Transfer$zodSchema: z.ZodType<Transfer> = z.object({
  amount: z.int(),
  amount_reversed: z.int(),
  balance_transaction: z.lazy(() => BalanceTransaction$zodSchema).optional(),
  created: z.int(),
  currency: z.string(),
  description: z.string().nullable().optional(),
  destination: z.lazy(() => Account$zodSchema).optional(),
  destination_payment: z.lazy(() => Charge$zodSchema).optional(),
  id: z.string(),
  livemode: z.boolean(),
  metadata: z.record(z.string(), z.string()),
  reversals: z.lazy(() => TransferReversalList$zodSchema),
  reversed: z.boolean(),
  source_transaction: z.lazy(() => Charge$zodSchema).optional(),
  source_type: z.string().optional(),
  transfer_group: z.string().nullable().optional(),
}).describe(
  "A `Transfer` object is created when you move funds between Stripe accounts as\npart of Connect.\n\nBefore April 6, 2017, transfers also represented movement of funds from a\nStripe account to a card or bank account. This behavior has since been split\nout into a [Payout](https://api.stripe.com#payout_object) object, with corresponding payout endpoints. For more\ninformation, read about the\n[transfer/payout split](https://docs.stripe.com/transfer-payout-split).\n\nRelated guide: [Creating separate charges and transfers](https://docs.stripe.com/connect/separate-charges-and-transfers)",
);
