/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { ClosedEnum } from "../types/enums.js";
import { Address, Address$zodSchema } from "./address.js";
import { BankAccount, BankAccount$zodSchema } from "./bankaccount.js";
import { CashBalance, CashBalance$zodSchema } from "./cashbalance.js";
import { CustomerTax, CustomerTax$zodSchema } from "./customertax.js";
import { Discount, Discount$zodSchema } from "./discount.js";
import {
  InvoiceSettingCustomerSetting,
  InvoiceSettingCustomerSetting$zodSchema,
} from "./invoicesettingcustomersetting.js";
import { Shipping, Shipping$zodSchema } from "./shipping.js";
import { Subscription, Subscription$zodSchema } from "./subscription.js";
import { TaxId, TaxId$zodSchema } from "./taxid.js";
import {
  TestHelpersTestClock,
  TestHelpersTestClock$zodSchema,
} from "./testhelperstestclock.js";

/**
 * The customer's payment sources, if any.
 */
export type ApmsSourcesSourceList = {
  data: Array<BankAccount>;
  has_more: boolean;
  url: string;
};

export const ApmsSourcesSourceList$zodSchema: z.ZodType<ApmsSourcesSourceList> =
  z.object({
    data: z.array(z.lazy(() => BankAccount$zodSchema)),
    has_more: z.boolean(),
    url: z.string(),
  }).describe("The customer's payment sources, if any.");

/**
 * The customer's current subscriptions, if any.
 */
export type SubscriptionList = {
  data: Array<Subscription>;
  has_more: boolean;
  url: string;
};

export const SubscriptionList$zodSchema: z.ZodType<SubscriptionList> = z.object(
  {
    data: z.array(z.lazy(() => Subscription$zodSchema)),
    has_more: z.boolean(),
    url: z.string(),
  },
).describe("The customer's current subscriptions, if any.");

/**
 * Describes the customer's tax exemption status, which is `none`, `exempt`, or `reverse`. When set to `reverse`, invoice and receipt PDFs include the following text: **"Reverse charge"**.
 */
export const TaxExempt = {
  Exempt: "exempt",
  None: "none",
  Reverse: "reverse",
} as const;
/**
 * Describes the customer's tax exemption status, which is `none`, `exempt`, or `reverse`. When set to `reverse`, invoice and receipt PDFs include the following text: **"Reverse charge"**.
 */
export type TaxExempt = ClosedEnum<typeof TaxExempt>;

export const TaxExempt$zodSchema = z.enum([
  "exempt",
  "none",
  "reverse",
]).describe(
  "Describes the customer's tax exemption status, which is `none`, `exempt`, or `reverse`. When set to `reverse`, invoice and receipt PDFs include the following text: **\"Reverse charge\"**.",
);

/**
 * The customer's tax IDs.
 */
export type TaxIDsList = { data: Array<TaxId>; has_more: boolean; url: string };

export const TaxIDsList$zodSchema: z.ZodType<TaxIDsList> = z.object({
  data: z.array(z.lazy(() => TaxId$zodSchema)),
  has_more: z.boolean(),
  url: z.string(),
}).describe("The customer's tax IDs.");

/**
 * This object represents a customer of your business. Use it to [create recurring charges](https://docs.stripe.com/invoicing/customer), [save payment](https://docs.stripe.com/payments/save-during-payment) and contact information,
 *
 * @remarks
 * and track payments that belong to the same customer.
 */
export type Customer = {
  address?: Address | undefined;
  balance?: number | undefined;
  business_name?: string | undefined;
  cash_balance?: CashBalance | undefined;
  created: number;
  currency?: string | null | undefined;
  customer_account?: string | null | undefined;
  default_source?: BankAccount | undefined;
  delinquent?: boolean | null | undefined;
  description?: string | null | undefined;
  discount?: Discount | undefined;
  email?: string | null | undefined;
  id: string;
  individual_name?: string | undefined;
  invoice_credit_balance?: { [k: string]: number } | undefined;
  invoice_prefix?: string | null | undefined;
  invoice_settings?: InvoiceSettingCustomerSetting | undefined;
  livemode: boolean;
  metadata?: { [k: string]: string } | undefined;
  name?: string | null | undefined;
  next_invoice_sequence?: number | undefined;
  phone?: string | null | undefined;
  preferred_locales?: Array<string> | null | undefined;
  shipping?: Shipping | undefined;
  sources?: ApmsSourcesSourceList | undefined;
  subscriptions?: SubscriptionList | undefined;
  tax?: CustomerTax | undefined;
  tax_exempt?: TaxExempt | null | undefined;
  tax_ids?: TaxIDsList | undefined;
  test_clock?: TestHelpersTestClock | undefined;
};

export const Customer$zodSchema: z.ZodType<Customer> = z.object({
  address: Address$zodSchema.optional(),
  balance: z.int().optional(),
  business_name: z.string().optional(),
  cash_balance: CashBalance$zodSchema.optional(),
  created: z.int(),
  currency: z.string().nullable().optional(),
  customer_account: z.string().nullable().optional(),
  default_source: z.lazy(() => BankAccount$zodSchema).optional(),
  delinquent: z.boolean().nullable().optional(),
  description: z.string().nullable().optional(),
  discount: z.lazy(() => Discount$zodSchema).optional(),
  email: z.string().nullable().optional(),
  id: z.string(),
  individual_name: z.string().optional(),
  invoice_credit_balance: z.record(z.string(), z.int()).optional(),
  invoice_prefix: z.string().nullable().optional(),
  invoice_settings: z.lazy(() => InvoiceSettingCustomerSetting$zodSchema)
    .optional(),
  livemode: z.boolean(),
  metadata: z.record(z.string(), z.string()).optional(),
  name: z.string().nullable().optional(),
  next_invoice_sequence: z.int().optional(),
  phone: z.string().nullable().optional(),
  preferred_locales: z.array(z.string()).nullable().optional(),
  shipping: Shipping$zodSchema.optional(),
  sources: z.lazy(() => ApmsSourcesSourceList$zodSchema).optional(),
  subscriptions: z.lazy(() => SubscriptionList$zodSchema).optional(),
  tax: CustomerTax$zodSchema.optional(),
  tax_exempt: TaxExempt$zodSchema.nullable().optional(),
  tax_ids: z.lazy(() => TaxIDsList$zodSchema).optional(),
  test_clock: TestHelpersTestClock$zodSchema.optional(),
}).describe(
  "This object represents a customer of your business. Use it to [create recurring charges](https://docs.stripe.com/invoicing/customer), [save payment](https://docs.stripe.com/payments/save-during-payment) and contact information,\nand track payments that belong to the same customer.",
);
