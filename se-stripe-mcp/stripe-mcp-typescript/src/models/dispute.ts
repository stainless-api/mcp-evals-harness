/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { ClosedEnum } from "../types/enums.js";
import {
  BalanceTransaction,
  BalanceTransaction$zodSchema,
} from "./balancetransaction.js";
import { Charge, Charge$zodSchema } from "./charge.js";
import {
  DisputeEvidence,
  DisputeEvidence$zodSchema,
} from "./disputeevidence.js";
import {
  DisputeEvidenceDetails,
  DisputeEvidenceDetails$zodSchema,
} from "./disputeevidencedetails.js";
import {
  DisputePaymentMethodDetails,
  DisputePaymentMethodDetails$zodSchema,
} from "./disputepaymentmethoddetails.js";
import { PaymentIntent, PaymentIntent$zodSchema } from "./paymentintent.js";

export const EnhancedEligibilityType = {
  VisaCompellingEvidence3: "visa_compelling_evidence_3",
  VisaCompliance: "visa_compliance",
} as const;
export type EnhancedEligibilityType = ClosedEnum<
  typeof EnhancedEligibilityType
>;

export const EnhancedEligibilityType$zodSchema = z.enum([
  "visa_compelling_evidence_3",
  "visa_compliance",
]);

/**
 * The current status of a dispute. Possible values include:`warning_needs_response`, `warning_under_review`, `warning_closed`, `needs_response`, `under_review`, `won`, `lost`, or `prevented`.
 */
export const DisputeStatus = {
  Lost: "lost",
  NeedsResponse: "needs_response",
  Prevented: "prevented",
  UnderReview: "under_review",
  WarningClosed: "warning_closed",
  WarningNeedsResponse: "warning_needs_response",
  WarningUnderReview: "warning_under_review",
  Won: "won",
} as const;
/**
 * The current status of a dispute. Possible values include:`warning_needs_response`, `warning_under_review`, `warning_closed`, `needs_response`, `under_review`, `won`, `lost`, or `prevented`.
 */
export type DisputeStatus = ClosedEnum<typeof DisputeStatus>;

export const DisputeStatus$zodSchema = z.enum([
  "lost",
  "needs_response",
  "prevented",
  "under_review",
  "warning_closed",
  "warning_needs_response",
  "warning_under_review",
  "won",
]).describe(
  "The current status of a dispute. Possible values include:`warning_needs_response`, `warning_under_review`, `warning_closed`, `needs_response`, `under_review`, `won`, `lost`, or `prevented`.",
);

/**
 * A dispute occurs when a customer questions your charge with their card issuer.
 *
 * @remarks
 * When this happens, you have the opportunity to respond to the dispute with
 * evidence that shows that the charge is legitimate.
 *
 * Related guide: [Disputes and fraud](https://docs.stripe.com/disputes)
 */
export type Dispute = {
  amount: number;
  balance_transactions: Array<BalanceTransaction>;
  charge: Charge;
  created: number;
  currency: string;
  enhanced_eligibility_types: Array<EnhancedEligibilityType>;
  evidence: DisputeEvidence;
  evidence_details: DisputeEvidenceDetails;
  id: string;
  is_charge_refundable: boolean;
  livemode: boolean;
  metadata: { [k: string]: string };
  payment_intent?: PaymentIntent | undefined;
  payment_method_details?: DisputePaymentMethodDetails | undefined;
  reason: string;
  status: DisputeStatus;
};

export const Dispute$zodSchema: z.ZodType<Dispute> = z.object({
  amount: z.int(),
  balance_transactions: z.array(BalanceTransaction$zodSchema),
  charge: Charge$zodSchema,
  created: z.int(),
  currency: z.string(),
  enhanced_eligibility_types: z.array(EnhancedEligibilityType$zodSchema),
  evidence: DisputeEvidence$zodSchema,
  evidence_details: DisputeEvidenceDetails$zodSchema,
  id: z.string(),
  is_charge_refundable: z.boolean(),
  livemode: z.boolean(),
  metadata: z.record(z.string(), z.string()),
  payment_intent: PaymentIntent$zodSchema.optional(),
  payment_method_details: DisputePaymentMethodDetails$zodSchema.optional(),
  reason: z.string(),
  status: DisputeStatus$zodSchema,
}).describe(
  "A dispute occurs when a customer questions your charge with their card issuer.\nWhen this happens, you have the opportunity to respond to the dispute with\nevidence that shows that the charge is legitimate.\n\nRelated guide: [Disputes and fraud](https://docs.stripe.com/disputes)",
);
