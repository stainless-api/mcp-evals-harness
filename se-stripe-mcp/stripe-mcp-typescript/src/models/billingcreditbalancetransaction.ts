/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { ClosedEnum } from "../types/enums.js";
import {
  BillingCreditGrant,
  BillingCreditGrant$zodSchema,
} from "./billingcreditgrant.js";
import {
  BillingCreditGrantsResourceBalanceCredit,
  BillingCreditGrantsResourceBalanceCredit$zodSchema,
} from "./billingcreditgrantsresourcebalancecredit.js";
import {
  BillingCreditGrantsResourceBalanceDebit,
  BillingCreditGrantsResourceBalanceDebit$zodSchema,
} from "./billingcreditgrantsresourcebalancedebit.js";
import {
  TestHelpersTestClock,
  TestHelpersTestClock$zodSchema,
} from "./testhelperstestclock.js";

/**
 * The type of credit balance transaction (credit or debit).
 */
export const BillingCreditBalanceTransactionType = {
  Credit: "credit",
  Debit: "debit",
} as const;
/**
 * The type of credit balance transaction (credit or debit).
 */
export type BillingCreditBalanceTransactionType = ClosedEnum<
  typeof BillingCreditBalanceTransactionType
>;

export const BillingCreditBalanceTransactionType$zodSchema = z.enum([
  "credit",
  "debit",
]).describe("The type of credit balance transaction (credit or debit).");

/**
 * A credit balance transaction is a resource representing a transaction (either a credit or a debit) against an existing credit grant.
 */
export type BillingCreditBalanceTransaction = {
  created: number;
  credit?: BillingCreditGrantsResourceBalanceCredit | undefined;
  credit_grant: BillingCreditGrant;
  debit?: BillingCreditGrantsResourceBalanceDebit | undefined;
  effective_at: number;
  id: string;
  livemode: boolean;
  test_clock?: TestHelpersTestClock | undefined;
  type?: BillingCreditBalanceTransactionType | null | undefined;
};

export const BillingCreditBalanceTransaction$zodSchema: z.ZodType<
  BillingCreditBalanceTransaction
> = z.object({
  created: z.int(),
  credit: z.lazy(() => BillingCreditGrantsResourceBalanceCredit$zodSchema)
    .optional(),
  credit_grant: z.lazy(() => BillingCreditGrant$zodSchema),
  debit: z.lazy(() => BillingCreditGrantsResourceBalanceDebit$zodSchema)
    .optional(),
  effective_at: z.int(),
  id: z.string(),
  livemode: z.boolean(),
  test_clock: TestHelpersTestClock$zodSchema.optional(),
  type: BillingCreditBalanceTransactionType$zodSchema.nullable().optional(),
}).describe(
  "A credit balance transaction is a resource representing a transaction (either a credit or a debit) against an existing credit grant.",
);
