/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { Discount, Discount$zodSchema } from "./discount.js";
import { Price, Price$zodSchema } from "./price.js";
import {
  SubscriptionItemBillingThresholds,
  SubscriptionItemBillingThresholds$zodSchema,
} from "./subscriptionitembillingthresholds.js";
import { TaxRate, TaxRate$zodSchema } from "./taxrate.js";

/**
 * Subscription items allow you to create customer subscriptions with more than
 *
 * @remarks
 * one plan, making it easy to represent complex billing relationships.
 */
export type SubscriptionItem = {
  billing_thresholds?: SubscriptionItemBillingThresholds | undefined;
  created: number;
  current_period_end: number;
  current_period_start: number;
  discounts: Array<Discount>;
  id: string;
  metadata: { [k: string]: string };
  price: Price;
  quantity?: number | undefined;
  subscription: string;
  tax_rates?: Array<TaxRate> | null | undefined;
};

export const SubscriptionItem$zodSchema: z.ZodType<SubscriptionItem> = z.object(
  {
    billing_thresholds: SubscriptionItemBillingThresholds$zodSchema.optional(),
    created: z.int(),
    current_period_end: z.int(),
    current_period_start: z.int(),
    discounts: z.array(z.lazy(() => Discount$zodSchema)),
    id: z.string(),
    metadata: z.record(z.string(), z.string()),
    price: Price$zodSchema,
    quantity: z.int().optional(),
    subscription: z.string(),
    tax_rates: z.array(TaxRate$zodSchema).nullable().optional(),
  },
).describe(
  "Subscription items allow you to create customer subscriptions with more than\none plan, making it easy to represent complex billing relationships.",
);
