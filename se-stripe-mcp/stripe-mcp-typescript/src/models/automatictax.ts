/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { ClosedEnum } from "../types/enums.js";
import {
  ConnectAccountReference,
  ConnectAccountReference$zodSchema,
} from "./connectaccountreference.js";

/**
 * If Stripe disabled automatic tax, this enum describes why.
 */
export const AutomaticTaxDisabledReason = {
  FinalizationRequiresLocationInputs: "finalization_requires_location_inputs",
  FinalizationSystemError: "finalization_system_error",
} as const;
/**
 * If Stripe disabled automatic tax, this enum describes why.
 */
export type AutomaticTaxDisabledReason = ClosedEnum<
  typeof AutomaticTaxDisabledReason
>;

export const AutomaticTaxDisabledReason$zodSchema = z.enum([
  "finalization_requires_location_inputs",
  "finalization_system_error",
]).describe("If Stripe disabled automatic tax, this enum describes why.");

/**
 * The status of the most recent automated tax calculation for this invoice.
 */
export const AutomaticTaxStatus = {
  Complete: "complete",
  Failed: "failed",
  RequiresLocationInputs: "requires_location_inputs",
} as const;
/**
 * The status of the most recent automated tax calculation for this invoice.
 */
export type AutomaticTaxStatus = ClosedEnum<typeof AutomaticTaxStatus>;

export const AutomaticTaxStatus$zodSchema = z.enum([
  "complete",
  "failed",
  "requires_location_inputs",
]).describe(
  "The status of the most recent automated tax calculation for this invoice.",
);

export type AutomaticTax = {
  disabled_reason?: AutomaticTaxDisabledReason | null | undefined;
  enabled: boolean;
  liability?: ConnectAccountReference | undefined;
  provider?: string | null | undefined;
  status?: AutomaticTaxStatus | null | undefined;
};

export const AutomaticTax$zodSchema: z.ZodType<AutomaticTax> = z.object({
  disabled_reason: AutomaticTaxDisabledReason$zodSchema.nullable().optional(),
  enabled: z.boolean(),
  liability: z.lazy(() => ConnectAccountReference$zodSchema).optional(),
  provider: z.string().nullable().optional(),
  status: AutomaticTaxStatus$zodSchema.nullable().optional(),
});
