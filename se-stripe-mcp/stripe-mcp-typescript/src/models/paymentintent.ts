/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { ClosedEnum } from "../types/enums.js";
import { Account, Account$zodSchema } from "./account.js";
import { ApiErrors, ApiErrors$zodSchema } from "./apierrors.js";
import { Application, Application$zodSchema } from "./application.js";
import { Charge, Charge$zodSchema } from "./charge.js";
import { Customer, Customer$zodSchema } from "./customer.js";
import {
  PaymentFlowsAmountDetails,
  PaymentFlowsAmountDetails$zodSchema,
} from "./paymentflowsamountdetails.js";
import {
  PaymentFlowsAutomaticPaymentMethodsPaymentIntent,
  PaymentFlowsAutomaticPaymentMethodsPaymentIntent$zodSchema,
} from "./paymentflowsautomaticpaymentmethodspaymentintent.js";
import {
  PaymentFlowsPaymentDetails,
  PaymentFlowsPaymentDetails$zodSchema,
} from "./paymentflowspaymentdetails.js";
import {
  PaymentFlowsPaymentIntentAsyncWorkflows,
  PaymentFlowsPaymentIntentAsyncWorkflows$zodSchema,
} from "./paymentflowspaymentintentasyncworkflows.js";
import {
  PaymentFlowsPaymentIntentPresentmentDetails,
  PaymentFlowsPaymentIntentPresentmentDetails$zodSchema,
} from "./paymentflowspaymentintentpresentmentdetails.js";
import {
  PaymentIntentNextAction,
  PaymentIntentNextAction$zodSchema,
} from "./paymentintentnextaction.js";
import {
  PaymentIntentPaymentMethodOptions,
  PaymentIntentPaymentMethodOptions$zodSchema,
} from "./paymentintentpaymentmethodoptions.js";
import {
  PaymentIntentProcessing,
  PaymentIntentProcessing$zodSchema,
} from "./paymentintentprocessing.js";
import { PaymentMethod, PaymentMethod$zodSchema } from "./paymentmethod.js";
import {
  PaymentMethodConfigBizPaymentMethodConfigurationDetails,
  PaymentMethodConfigBizPaymentMethodConfigurationDetails$zodSchema,
} from "./paymentmethodconfigbizpaymentmethodconfigurationdetails.js";
import { Review, Review$zodSchema } from "./review.js";
import { Shipping, Shipping$zodSchema } from "./shipping.js";
import { TransferData, TransferData$zodSchema } from "./transferdata.js";

/**
 * Reason for cancellation of this PaymentIntent, either user-provided (`duplicate`, `fraudulent`, `requested_by_customer`, or `abandoned`) or generated by Stripe internally (`failed_invoice`, `void_invoice`, `automatic`, or `expired`).
 */
export const PaymentIntentCancellationReason = {
  Abandoned: "abandoned",
  Automatic: "automatic",
  Duplicate: "duplicate",
  Expired: "expired",
  FailedInvoice: "failed_invoice",
  Fraudulent: "fraudulent",
  RequestedByCustomer: "requested_by_customer",
  VoidInvoice: "void_invoice",
} as const;
/**
 * Reason for cancellation of this PaymentIntent, either user-provided (`duplicate`, `fraudulent`, `requested_by_customer`, or `abandoned`) or generated by Stripe internally (`failed_invoice`, `void_invoice`, `automatic`, or `expired`).
 */
export type PaymentIntentCancellationReason = ClosedEnum<
  typeof PaymentIntentCancellationReason
>;

export const PaymentIntentCancellationReason$zodSchema = z.enum([
  "abandoned",
  "automatic",
  "duplicate",
  "expired",
  "failed_invoice",
  "fraudulent",
  "requested_by_customer",
  "void_invoice",
]).describe(
  "Reason for cancellation of this PaymentIntent, either user-provided (`duplicate`, `fraudulent`, `requested_by_customer`, or `abandoned`) or generated by Stripe internally (`failed_invoice`, `void_invoice`, `automatic`, or `expired`).",
);

/**
 * Controls when the funds will be captured from the customer's account.
 */
export const PaymentIntentCaptureMethod = {
  Automatic: "automatic",
  AutomaticAsync: "automatic_async",
  Manual: "manual",
} as const;
/**
 * Controls when the funds will be captured from the customer's account.
 */
export type PaymentIntentCaptureMethod = ClosedEnum<
  typeof PaymentIntentCaptureMethod
>;

export const PaymentIntentCaptureMethod$zodSchema = z.enum([
  "automatic",
  "automatic_async",
  "manual",
]).describe(
  "Controls when the funds will be captured from the customer's account.",
);

/**
 * Describes whether we can confirm this PaymentIntent automatically, or if it requires customer action to confirm the payment.
 */
export const ConfirmationMethod = {
  Automatic: "automatic",
  Manual: "manual",
} as const;
/**
 * Describes whether we can confirm this PaymentIntent automatically, or if it requires customer action to confirm the payment.
 */
export type ConfirmationMethod = ClosedEnum<typeof ConfirmationMethod>;

export const ConfirmationMethod$zodSchema = z.enum([
  "automatic",
  "manual",
]).describe(
  "Describes whether we can confirm this PaymentIntent automatically, or if it requires customer action to confirm the payment.",
);

export const PaymentIntentExcludedPaymentMethodType = {
  AcssDebit: "acss_debit",
  Affirm: "affirm",
  AfterpayClearpay: "afterpay_clearpay",
  Alipay: "alipay",
  Alma: "alma",
  AmazonPay: "amazon_pay",
  AuBecsDebit: "au_becs_debit",
  BacsDebit: "bacs_debit",
  Bancontact: "bancontact",
  Billie: "billie",
  Blik: "blik",
  Boleto: "boleto",
  Card: "card",
  Cashapp: "cashapp",
  Crypto: "crypto",
  CustomerBalance: "customer_balance",
  Eps: "eps",
  Fpx: "fpx",
  Giropay: "giropay",
  Grabpay: "grabpay",
  Ideal: "ideal",
  KakaoPay: "kakao_pay",
  Klarna: "klarna",
  Konbini: "konbini",
  KrCard: "kr_card",
  MbWay: "mb_way",
  Mobilepay: "mobilepay",
  Multibanco: "multibanco",
  NaverPay: "naver_pay",
  NzBankAccount: "nz_bank_account",
  Oxxo: "oxxo",
  P24: "p24",
  PayByBank: "pay_by_bank",
  Payco: "payco",
  Paynow: "paynow",
  Paypal: "paypal",
  Payto: "payto",
  Pix: "pix",
  Promptpay: "promptpay",
  RevolutPay: "revolut_pay",
  SamsungPay: "samsung_pay",
  Satispay: "satispay",
  SepaDebit: "sepa_debit",
  Sofort: "sofort",
  Swish: "swish",
  Twint: "twint",
  UsBankAccount: "us_bank_account",
  WechatPay: "wechat_pay",
  Zip: "zip",
} as const;
export type PaymentIntentExcludedPaymentMethodType = ClosedEnum<
  typeof PaymentIntentExcludedPaymentMethodType
>;

export const PaymentIntentExcludedPaymentMethodType$zodSchema = z.enum([
  "acss_debit",
  "affirm",
  "afterpay_clearpay",
  "alipay",
  "alma",
  "amazon_pay",
  "au_becs_debit",
  "bacs_debit",
  "bancontact",
  "billie",
  "blik",
  "boleto",
  "card",
  "cashapp",
  "crypto",
  "customer_balance",
  "eps",
  "fpx",
  "giropay",
  "grabpay",
  "ideal",
  "kakao_pay",
  "klarna",
  "konbini",
  "kr_card",
  "mb_way",
  "mobilepay",
  "multibanco",
  "naver_pay",
  "nz_bank_account",
  "oxxo",
  "p24",
  "pay_by_bank",
  "payco",
  "paynow",
  "paypal",
  "payto",
  "pix",
  "promptpay",
  "revolut_pay",
  "samsung_pay",
  "satispay",
  "sepa_debit",
  "sofort",
  "swish",
  "twint",
  "us_bank_account",
  "wechat_pay",
  "zip",
]);

/**
 * Indicates that you intend to make future payments with this PaymentIntent's payment method.
 *
 * @remarks
 *
 * If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](/payments/save-during-payment) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don't provide a Customer, you can still [attach](/api/payment_methods/attach) the payment method to a Customer after the transaction completes.
 *
 * If the payment method is `card_present` and isn't a digital wallet, Stripe creates and attaches a [generated_card](/api/charges/object#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.
 *
 * When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](/strong-customer-authentication).
 */
export const PaymentIntentSetupFutureUsage = {
  OffSession: "off_session",
  OnSession: "on_session",
} as const;
/**
 * Indicates that you intend to make future payments with this PaymentIntent's payment method.
 *
 * @remarks
 *
 * If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](/payments/save-during-payment) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don't provide a Customer, you can still [attach](/api/payment_methods/attach) the payment method to a Customer after the transaction completes.
 *
 * If the payment method is `card_present` and isn't a digital wallet, Stripe creates and attaches a [generated_card](/api/charges/object#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.
 *
 * When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](/strong-customer-authentication).
 */
export type PaymentIntentSetupFutureUsage = ClosedEnum<
  typeof PaymentIntentSetupFutureUsage
>;

export const PaymentIntentSetupFutureUsage$zodSchema = z.enum([
  "off_session",
  "on_session",
]).describe(
  "Indicates that you intend to make future payments with this PaymentIntent's payment method.\n\nIf you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](/payments/save-during-payment) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don't provide a Customer, you can still [attach](/api/payment_methods/attach) the payment method to a Customer after the transaction completes.\n\nIf the payment method is `card_present` and isn't a digital wallet, Stripe creates and attaches a [generated_card](/api/charges/object#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.\n\nWhen processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](/strong-customer-authentication).",
);

/**
 * Status of this PaymentIntent, one of `requires_payment_method`, `requires_confirmation`, `requires_action`, `processing`, `requires_capture`, `canceled`, or `succeeded`. Read more about each PaymentIntent [status](https://docs.stripe.com/payments/intents#intent-statuses).
 */
export const PaymentIntentStatus = {
  Canceled: "canceled",
  Processing: "processing",
  RequiresAction: "requires_action",
  RequiresCapture: "requires_capture",
  RequiresConfirmation: "requires_confirmation",
  RequiresPaymentMethod: "requires_payment_method",
  Succeeded: "succeeded",
} as const;
/**
 * Status of this PaymentIntent, one of `requires_payment_method`, `requires_confirmation`, `requires_action`, `processing`, `requires_capture`, `canceled`, or `succeeded`. Read more about each PaymentIntent [status](https://docs.stripe.com/payments/intents#intent-statuses).
 */
export type PaymentIntentStatus = ClosedEnum<typeof PaymentIntentStatus>;

export const PaymentIntentStatus$zodSchema = z.enum([
  "canceled",
  "processing",
  "requires_action",
  "requires_capture",
  "requires_confirmation",
  "requires_payment_method",
  "succeeded",
]).describe(
  "Status of this PaymentIntent, one of `requires_payment_method`, `requires_confirmation`, `requires_action`, `processing`, `requires_capture`, `canceled`, or `succeeded`. Read more about each PaymentIntent [status](https://docs.stripe.com/payments/intents#intent-statuses).",
);

/**
 * A PaymentIntent guides you through the process of collecting a payment from your customer.
 *
 * @remarks
 * We recommend that you create exactly one PaymentIntent for each order or
 * customer session in your system. You can reference the PaymentIntent later to
 * see the history of payment attempts for a particular session.
 *
 * A PaymentIntent transitions through
 * [multiple statuses](/payments/paymentintents/lifecycle)
 * throughout its lifetime as it interfaces with Stripe.js to perform
 * authentication flows and ultimately creates at most one successful charge.
 *
 * Related guide: [Payment Intents API](https://docs.stripe.com/payments/payment-intents)
 */
export type PaymentIntent = {
  amount?: number | undefined;
  amount_capturable?: number | undefined;
  amount_details?: PaymentFlowsAmountDetails | undefined;
  amount_received?: number | undefined;
  application?: Application | undefined;
  application_fee_amount?: number | null | undefined;
  automatic_payment_methods?:
    | PaymentFlowsAutomaticPaymentMethodsPaymentIntent
    | undefined;
  canceled_at?: number | null | undefined;
  cancellation_reason?: PaymentIntentCancellationReason | null | undefined;
  capture_method?: PaymentIntentCaptureMethod | undefined;
  client_secret?: string | null | undefined;
  confirmation_method?: ConfirmationMethod | undefined;
  created: number;
  currency?: string | undefined;
  customer?: Customer | undefined;
  customer_account?: string | null | undefined;
  description?: string | null | undefined;
  excluded_payment_method_types?:
    | Array<PaymentIntentExcludedPaymentMethodType>
    | null
    | undefined;
  hooks?: PaymentFlowsPaymentIntentAsyncWorkflows | undefined;
  id: string;
  last_payment_error?: ApiErrors | undefined;
  latest_charge?: Charge | undefined;
  livemode: boolean;
  metadata?: { [k: string]: string } | undefined;
  next_action?: PaymentIntentNextAction | undefined;
  on_behalf_of?: Account | undefined;
  payment_details?: PaymentFlowsPaymentDetails | undefined;
  payment_method?: PaymentMethod | undefined;
  payment_method_configuration_details?:
    | PaymentMethodConfigBizPaymentMethodConfigurationDetails
    | undefined;
  payment_method_options?: PaymentIntentPaymentMethodOptions | undefined;
  payment_method_types?: Array<string> | undefined;
  presentment_details?: PaymentFlowsPaymentIntentPresentmentDetails | undefined;
  processing?: PaymentIntentProcessing | undefined;
  receipt_email?: string | null | undefined;
  review?: Review | undefined;
  setup_future_usage?: PaymentIntentSetupFutureUsage | null | undefined;
  shipping?: Shipping | undefined;
  statement_descriptor?: string | null | undefined;
  statement_descriptor_suffix?: string | null | undefined;
  status: PaymentIntentStatus;
  transfer_data?: TransferData | undefined;
  transfer_group?: string | null | undefined;
};

export const PaymentIntent$zodSchema: z.ZodType<PaymentIntent> = z.object({
  amount: z.int().optional(),
  amount_capturable: z.int().optional(),
  amount_details: PaymentFlowsAmountDetails$zodSchema.optional(),
  amount_received: z.int().optional(),
  application: Application$zodSchema.optional(),
  application_fee_amount: z.int().nullable().optional(),
  automatic_payment_methods:
    PaymentFlowsAutomaticPaymentMethodsPaymentIntent$zodSchema.optional(),
  canceled_at: z.int().nullable().optional(),
  cancellation_reason: PaymentIntentCancellationReason$zodSchema.nullable()
    .optional(),
  capture_method: PaymentIntentCaptureMethod$zodSchema.optional(),
  client_secret: z.string().nullable().optional(),
  confirmation_method: ConfirmationMethod$zodSchema.optional(),
  created: z.int(),
  currency: z.string().optional(),
  customer: z.lazy(() => Customer$zodSchema).optional(),
  customer_account: z.string().nullable().optional(),
  description: z.string().nullable().optional(),
  excluded_payment_method_types: z.array(
    PaymentIntentExcludedPaymentMethodType$zodSchema,
  ).nullable().optional(),
  hooks: PaymentFlowsPaymentIntentAsyncWorkflows$zodSchema.optional(),
  id: z.string(),
  last_payment_error: z.lazy(() => ApiErrors$zodSchema).optional(),
  latest_charge: z.lazy(() => Charge$zodSchema).optional(),
  livemode: z.boolean(),
  metadata: z.record(z.string(), z.string()).optional(),
  next_action: PaymentIntentNextAction$zodSchema.optional(),
  on_behalf_of: z.lazy(() => Account$zodSchema).optional(),
  payment_details: PaymentFlowsPaymentDetails$zodSchema.optional(),
  payment_method: z.lazy(() => PaymentMethod$zodSchema).optional(),
  payment_method_configuration_details:
    PaymentMethodConfigBizPaymentMethodConfigurationDetails$zodSchema
      .optional(),
  payment_method_options: PaymentIntentPaymentMethodOptions$zodSchema
    .optional(),
  payment_method_types: z.array(z.string()).optional(),
  presentment_details: PaymentFlowsPaymentIntentPresentmentDetails$zodSchema
    .optional(),
  processing: PaymentIntentProcessing$zodSchema.optional(),
  receipt_email: z.string().nullable().optional(),
  review: z.lazy(() => Review$zodSchema).optional(),
  setup_future_usage: PaymentIntentSetupFutureUsage$zodSchema.nullable()
    .optional(),
  shipping: Shipping$zodSchema.optional(),
  statement_descriptor: z.string().nullable().optional(),
  statement_descriptor_suffix: z.string().nullable().optional(),
  status: PaymentIntentStatus$zodSchema,
  transfer_data: z.lazy(() => TransferData$zodSchema).optional(),
  transfer_group: z.string().nullable().optional(),
}).describe(
  "A PaymentIntent guides you through the process of collecting a payment from your customer.\nWe recommend that you create exactly one PaymentIntent for each order or\ncustomer session in your system. You can reference the PaymentIntent later to\nsee the history of payment attempts for a particular session.\n\nA PaymentIntent transitions through\n[multiple statuses](/payments/paymentintents/lifecycle)\nthroughout its lifetime as it interfaces with Stripe.js to perform\nauthentication flows and ultimately creates at most one successful charge.\n\nRelated guide: [Payment Intents API](https://docs.stripe.com/payments/payment-intents)",
);
