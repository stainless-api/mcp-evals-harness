/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { ClosedEnum } from "../types/enums.js";
import { Account, Account$zodSchema } from "./account.js";
import { ApiErrors, ApiErrors$zodSchema } from "./apierrors.js";
import { Application, Application$zodSchema } from "./application.js";
import { Customer, Customer$zodSchema } from "./customer.js";
import { PaymentMethod, PaymentMethod$zodSchema } from "./paymentmethod.js";
import {
  SetupAttemptPaymentMethodDetails,
  SetupAttemptPaymentMethodDetails$zodSchema,
} from "./setupattemptpaymentmethoddetails.js";
import { SetupIntent, SetupIntent$zodSchema } from "./setupintent.js";

export const SetupAttemptFlowDirection = {
  Inbound: "inbound",
  Outbound: "outbound",
} as const;
export type SetupAttemptFlowDirection = ClosedEnum<
  typeof SetupAttemptFlowDirection
>;

export const SetupAttemptFlowDirection$zodSchema = z.enum([
  "inbound",
  "outbound",
]);

/**
 * A SetupAttempt describes one attempted confirmation of a SetupIntent,
 *
 * @remarks
 * whether that confirmation is successful or unsuccessful. You can use
 * SetupAttempts to inspect details of a specific attempt at setting up a
 * payment method using a SetupIntent.
 */
export type SetupAttempt = {
  application?: Application | undefined;
  attach_to_self?: boolean | undefined;
  created: number;
  customer?: Customer | undefined;
  customer_account?: string | null | undefined;
  flow_directions?: Array<SetupAttemptFlowDirection> | null | undefined;
  id: string;
  livemode: boolean;
  on_behalf_of?: Account | undefined;
  payment_method: PaymentMethod;
  payment_method_details: SetupAttemptPaymentMethodDetails;
  setup_error?: ApiErrors | undefined;
  setup_intent: SetupIntent;
  status: string;
  usage: string;
};

export const SetupAttempt$zodSchema: z.ZodType<SetupAttempt> = z.object({
  application: Application$zodSchema.optional(),
  attach_to_self: z.boolean().optional(),
  created: z.int(),
  customer: z.lazy(() => Customer$zodSchema).optional(),
  customer_account: z.string().nullable().optional(),
  flow_directions: z.array(SetupAttemptFlowDirection$zodSchema).nullable()
    .optional(),
  id: z.string(),
  livemode: z.boolean(),
  on_behalf_of: z.lazy(() => Account$zodSchema).optional(),
  payment_method: z.lazy(() => PaymentMethod$zodSchema),
  payment_method_details: z.lazy(() =>
    SetupAttemptPaymentMethodDetails$zodSchema
  ),
  setup_error: z.lazy(() => ApiErrors$zodSchema).optional(),
  setup_intent: z.lazy(() => SetupIntent$zodSchema),
  status: z.string(),
  usage: z.string(),
}).describe(
  "A SetupAttempt describes one attempted confirmation of a SetupIntent,\nwhether that confirmation is successful or unsuccessful. You can use\nSetupAttempts to inspect details of a specific attempt at setting up a\npayment method using a SetupIntent.",
);
