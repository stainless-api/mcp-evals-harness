/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { ClosedEnum } from "../types/enums.js";
import {
  BillingCreditGrantsResourceAmount,
  BillingCreditGrantsResourceAmount$zodSchema,
} from "./billingcreditgrantsresourceamount.js";
import {
  BillingCreditGrantsResourceApplicabilityConfig,
  BillingCreditGrantsResourceApplicabilityConfig$zodSchema,
} from "./billingcreditgrantsresourceapplicabilityconfig.js";
import { Customer, Customer$zodSchema } from "./customer.js";
import {
  TestHelpersTestClock,
  TestHelpersTestClock$zodSchema,
} from "./testhelperstestclock.js";

/**
 * The category of this credit grant. This is for tracking purposes and isn't displayed to the customer.
 */
export const BillingCreditGrantCategory = {
  Paid: "paid",
  Promotional: "promotional",
} as const;
/**
 * The category of this credit grant. This is for tracking purposes and isn't displayed to the customer.
 */
export type BillingCreditGrantCategory = ClosedEnum<
  typeof BillingCreditGrantCategory
>;

export const BillingCreditGrantCategory$zodSchema = z.enum([
  "paid",
  "promotional",
]).describe(
  "The category of this credit grant. This is for tracking purposes and isn't displayed to the customer.",
);

/**
 * A credit grant is an API resource that documents the allocation of some billing credits to a customer.
 *
 * @remarks
 *
 * Related guide: [Billing credits](https://docs.stripe.com/billing/subscriptions/usage-based/billing-credits)
 */
export type BillingCreditGrant = {
  amount: BillingCreditGrantsResourceAmount;
  applicability_config: BillingCreditGrantsResourceApplicabilityConfig;
  category: BillingCreditGrantCategory;
  created: number;
  customer: Customer;
  customer_account?: string | null | undefined;
  effective_at?: number | null | undefined;
  expires_at?: number | null | undefined;
  id: string;
  livemode: boolean;
  metadata: { [k: string]: string };
  name?: string | null | undefined;
  priority?: number | null | undefined;
  test_clock?: TestHelpersTestClock | undefined;
  updated: number;
  voided_at?: number | null | undefined;
};

export const BillingCreditGrant$zodSchema: z.ZodType<BillingCreditGrant> = z
  .object({
    amount: BillingCreditGrantsResourceAmount$zodSchema,
    applicability_config:
      BillingCreditGrantsResourceApplicabilityConfig$zodSchema,
    category: BillingCreditGrantCategory$zodSchema,
    created: z.int(),
    customer: z.lazy(() => Customer$zodSchema),
    customer_account: z.string().nullable().optional(),
    effective_at: z.int().nullable().optional(),
    expires_at: z.int().nullable().optional(),
    id: z.string(),
    livemode: z.boolean(),
    metadata: z.record(z.string(), z.string()),
    name: z.string().nullable().optional(),
    priority: z.int().nullable().optional(),
    test_clock: TestHelpersTestClock$zodSchema.optional(),
    updated: z.int(),
    voided_at: z.int().nullable().optional(),
  }).describe(
    "A credit grant is an API resource that documents the allocation of some billing credits to a customer.\n\nRelated guide: [Billing credits](https://docs.stripe.com/billing/subscriptions/usage-based/billing-credits)",
  );
