/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { ClosedEnum } from "../types/enums.js";
import { TaxRate, TaxRate$zodSchema } from "./taxrate.js";

/**
 * The reasoning behind this tax, for example, if the product is tax exempt. The possible values for this field may be extended as new tax rules are supported.
 */
export const LineItemsTaxAmountTaxabilityReason = {
  CustomerExempt: "customer_exempt",
  NotCollecting: "not_collecting",
  NotSubjectToTax: "not_subject_to_tax",
  NotSupported: "not_supported",
  PortionProductExempt: "portion_product_exempt",
  PortionReducedRated: "portion_reduced_rated",
  PortionStandardRated: "portion_standard_rated",
  ProductExempt: "product_exempt",
  ProductExemptHoliday: "product_exempt_holiday",
  ProportionallyRated: "proportionally_rated",
  ReducedRated: "reduced_rated",
  ReverseCharge: "reverse_charge",
  StandardRated: "standard_rated",
  TaxableBasisReduced: "taxable_basis_reduced",
  ZeroRated: "zero_rated",
} as const;
/**
 * The reasoning behind this tax, for example, if the product is tax exempt. The possible values for this field may be extended as new tax rules are supported.
 */
export type LineItemsTaxAmountTaxabilityReason = ClosedEnum<
  typeof LineItemsTaxAmountTaxabilityReason
>;

export const LineItemsTaxAmountTaxabilityReason$zodSchema = z.enum([
  "customer_exempt",
  "not_collecting",
  "not_subject_to_tax",
  "not_supported",
  "portion_product_exempt",
  "portion_reduced_rated",
  "portion_standard_rated",
  "product_exempt",
  "product_exempt_holiday",
  "proportionally_rated",
  "reduced_rated",
  "reverse_charge",
  "standard_rated",
  "taxable_basis_reduced",
  "zero_rated",
]).describe(
  "The reasoning behind this tax, for example, if the product is tax exempt. The possible values for this field may be extended as new tax rules are supported.",
);

export type LineItemsTaxAmount = {
  amount: number;
  rate: TaxRate;
  taxability_reason?: LineItemsTaxAmountTaxabilityReason | null | undefined;
  taxable_amount?: number | null | undefined;
};

export const LineItemsTaxAmount$zodSchema: z.ZodType<LineItemsTaxAmount> = z
  .object({
    amount: z.int(),
    rate: TaxRate$zodSchema,
    taxability_reason: LineItemsTaxAmountTaxabilityReason$zodSchema.nullable()
      .optional(),
    taxable_amount: z.int().nullable().optional(),
  });
